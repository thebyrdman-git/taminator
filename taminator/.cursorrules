# Taminator Project - Cursor AI Rules

## üéØ Project Context

You are working on **Taminator** - a production RFE/Bug tracking tool for Red Hat TAMs.

**Project Type:** Production tool used by Red Hat TAM team  
**Tech Stack:** Python (CLI), Electron + React + PatternFly (GUI)  
**Users:** Red Hat Technical Account Managers (TAMs)  
**Purpose:** Automate RFE/Bug tracking, save 2-3 hours per customer per week

---

## üè≠ Production Project Standards (MANDATORY)

**This is a PRODUCTION project. Every commit must be production-ready.**

### Before ANY Commit - Ask:
1. ‚ùì Is this code production-ready?
2. ‚ùì Is it tested and working?
3. ‚ùì Is it documented?
4. ‚ùì Does it maintain backwards compatibility?
5. ‚ùì Are there any debug artifacts to remove?
6. ‚ùì Will this break existing TAM workflows?

**If ANY answer is NO, do NOT commit.**

### Quality Requirements
- ‚úÖ **Professional Standards**: Treat like shipped Red Hat product
- ‚úÖ **Code Quality**: Clean, documented, maintainable code only
- ‚úÖ **Testing Required**: All features must be tested before commit
- ‚úÖ **Documentation**: Update README, GETTING-STARTED for all changes
- ‚úÖ **No Debug Code**: Remove console.log, test data, debugging artifacts
- ‚úÖ **Semantic Versioning**: Increment version properly (major.minor.patch)
- ‚úÖ **Changelog**: Document all changes in CHANGELOG or commit messages
- ‚úÖ **Security First**: Never commit secrets, tokens, or customer data
- ‚úÖ **Backwards Compatible**: Don't break existing TAM workflows
- ‚úÖ **Professional Commits**: Clear commit messages, logical grouping

---

## üîí Security Rules (CRITICAL)

### NEVER Commit These

**Customer/Client Names:**
- ‚ùå td-bank, wells-fargo, fannie-mae, jpmc, chase, citibank
- ‚ùå Any identifiable customer or bank names
- ‚úÖ OK in `examples/` with "EXAMPLE" disclaimer only

**Case Numbers:**
- ‚ùå case_04275428, case-12345678
- ‚úÖ Use "case_########" in docs

**JIRA IDs:**
- ‚ùå Real IDs: AAP-12345, AAPRFE-1234
- ‚úÖ Patterns in docs: "AAP-#####"

**API Tokens/Secrets:**
- ‚ùå Any tokens, passwords, API keys
- ‚ùå .env files with real values
- ‚úÖ .env.example with placeholders

**Personal Information:**
- ‚ùå Personal file names, email addresses (except jbyrd@redhat.com as example)
- ‚ùå OAuth credentials, SSH keys

**Configuration with Real Data:**
- ‚ùå Config files with production values
- ‚úÖ Template files with dummy data

### Pre-Commit Hook

The pre-commit hook automatically blocks commits containing:
1. Customer names
2. Case numbers
3. JIRA IDs
4. API tokens
5. Personal files
6. Email addresses

**If blocked:** Remove violations and retry. Never use `--no-verify` unless emergency.

---

## üìã Communication Style

**For ALL responses:**
- **TLDR Format**: Issue replies must be straight-to-the-point, no fluff
- **Professional Directness**: No cliches, no "You're absolutely right!"
- **Action-Oriented**: Tell what to do, not just explain

**When documenting features:**
- Add TLDR at top with: What, Why, How
- Quick start code examples
- Reference full docs for details

**Example TLDR:**
```markdown
## üìã TLDR

**What:** Feature description in one line
**Why:** Problem it solves
**How:** Quick start command

```bash
# Basic usage
./command --option
```

**[‚Üí Full Documentation](#details)**
```

---

## üß™ Testing Strategy

**Hybrid approach: Real + Simulated**

### Real Testing (Required)
- GUI functionality and UX
- Authentication flows (VPN, Kerberos, tokens)
- End-to-end workflows
- Visual verification

### Simulated Testing (Acceptable)
- Unit tests for core functions
- Security checks (pre-commit hooks, .gitignore)
- Error handling
- API responses (can mock)

### Before Committing
```bash
# Test the feature
./tam-rfe check --customer example-customer  # CLI
./Taminator-*.AppImage                       # GUI

# Verify no errors
```

---

## üìÇ Repository Structure

```
taminator/
‚îú‚îÄ‚îÄ README.md              # Main documentation (with TLDR)
‚îú‚îÄ‚îÄ GETTING-STARTED.md     # Quick start guide (with TLDR)
‚îú‚îÄ‚îÄ CONTRIBUTING.md        # Contributor guide
‚îú‚îÄ‚îÄ GITLAB-PUSH-RULES.md   # Push rules
‚îú‚îÄ‚îÄ SECURITY-PROTECTION-LAYERS.md  # Security details
‚îú‚îÄ‚îÄ gui/                   # Electron GUI
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ main.js
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ src/                   # Python source
‚îÇ   ‚îî‚îÄ‚îÄ taminator/
‚îÇ       ‚îú‚îÄ‚îÄ commands/      # CLI commands
‚îÇ       ‚îú‚îÄ‚îÄ core/          # Core modules (auth, etc.)
‚îÇ       ‚îî‚îÄ‚îÄ tests/         # Unit tests
‚îú‚îÄ‚îÄ docs/                  # Feature specs
‚îú‚îÄ‚îÄ examples/              # Example usage (dummy data only)
‚îú‚îÄ‚îÄ templates/             # Report templates
‚îú‚îÄ‚îÄ ansible/               # VM test environment
‚îî‚îÄ‚îÄ tam-rfe                # CLI entry point
```

---

## üö® GitLab Push Rules (MANDATORY)

### Pre-Push Audit (Required EVERY push)

```bash
# 1. Check what files will be pushed
git ls-files | head -50
git ls-files | wc -l

# 2. Verify root directory structure
git ls-files | cut -d/ -f1 | sort -u
# Expected: ansible, README.md, taminator ONLY

# 3. Check for personal files
git ls-files | grep -iE "(fannie|wells|fargo|td-bank|oauth|youtube)" || echo "‚úÖ Clean"

# 4. Check for customer data
git ls-files | grep -iE "case_[0-9]" || echo "‚úÖ Clean"

# 5. Get user confirmation before pushing
```

### Git LFS Release File Management

**MANDATORY: Upload release files ONE AT A TIME**

```bash
# ‚úÖ CORRECT: Upload one file per commit
git add releases/v1.9.2/Taminator-1.9.2.AppImage
git commit -m "Add Linux AppImage v1.9.2 via Git LFS"
git push rfe-repo HEAD:main

# Wait for upload to complete, then next file:
git add releases/v1.9.2/Taminator-1.9.2.dmg
git commit -m "Add macOS DMG v1.9.2 via Git LFS"
git push rfe-repo HEAD:main

# ‚ùå WRONG: Do NOT add multiple large files in one commit
git add releases/v1.9.2/*.AppImage releases/v1.9.2/*.dmg releases/v1.9.2/*.exe
git commit -m "Add all release files"  # This will fail or timeout
```

**Why:** Git LFS uploads can timeout or fail when pushing multiple large files simultaneously. Sequential uploads are more reliable.

### Allowed Files ONLY
- ‚úÖ `taminator/` - All Taminator files
- ‚úÖ `ansible/vm-*.yml` - Test environment
- ‚úÖ `ansible/vm-inventory.ini` - Test inventory
- ‚úÖ `README.md` - Root documentation

### If Audit Fails
**STOP immediately. Reset and fix violations.**

---

## üíª Code Style

### Python
```python
# Good: Typed, documented, clean
def fetch_jira_status(issue_id: str) -> dict:
    """
    Fetch JIRA issue status from Red Hat JIRA.
    
    Args:
        issue_id: JIRA issue ID (e.g., "AAP-12345")
    
    Returns:
        dict: Issue status and metadata
    """
    pass

# Bad: No types, no docs
def get_status(id):
    return fetch(id)
```

### JavaScript/GUI
```javascript
// Good: Clear, no debug code
function checkAuthStatus() {
  const vpnConnected = checkVPN();
  const kerberosValid = checkKerberos();
  return { vpnConnected, kerberosValid };
}

// Bad: Debug code left in
function checkAuthStatus() {
  console.log('Checking auth...');
  return checkVPN();
}
```

### Remove Before Commit
- ‚ùå console.log() / print() debug statements
- ‚ùå TODO comments without JIRA tickets
- ‚ùå Commented-out code blocks
- ‚ùå Test data in production code
- ‚ùå Hardcoded paths or URLs

---

## üîÑ Contribution Workflow

1. **Setup:** `./setup.sh` (installs pre-commit hook)
2. **Branch:** `git checkout -b feature/my-feature`
3. **Develop:** Write + test + document
4. **Commit:** Automatic pre-commit hook runs
5. **Audit:** Run pre-push audit (see above)
6. **Push:** `git push origin feature/my-feature`
7. **MR:** Create merge request on GitLab

---

## üìã Version Management

**Semantic Versioning:** MAJOR.MINOR.PATCH

- **MAJOR:** Breaking changes
- **MINOR:** New features (backwards compatible)
- **PATCH:** Bug fixes

**Update:** `gui/package.json` version field

---

## üéØ Key Principles

1. **Production Quality:** Every commit ships to TAMs
2. **Security First:** No tokens, no customer data, ever
3. **Test Everything:** Real + simulated testing
4. **Document All:** TLDR + full docs
5. **TLDR Format:** Straight-to-the-point, no fluff
6. **Audit Before Push:** Mandatory pre-push checks
7. **Backwards Compatible:** Don't break TAM workflows

---

## üìû Getting Help

- **Issues:** Create GitLab issue
- **Security:** Email jbyrd@redhat.com (never public)
- **Workflow Questions:** See CONTRIBUTING.md

---

**Remember: This is production software. TAMs depend on this tool daily.**

