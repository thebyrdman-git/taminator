---
# Ansible-lint configuration for RFE Automation
# https://ansible-lint.readthedocs.io/en/latest/configuring.html

# Skip rules that are not applicable to our use case
skip_list:
  - yaml[line-length]  # Allow longer lines for readability
  - yaml[truthy]       # Allow truthy values in some contexts
  - name[casing]       # Allow mixed case in names for clarity
  - name[template]     # Allow template-like names
  - jinja[spacing]     # Allow flexible Jinja2 spacing
  - fqcn[action-core]  # Allow short module names in some cases
  - fqcn[action]       # Allow short module names in some cases

# Include additional rules
enable_list:
  - yaml[comments]     # Require comments for complex logic
  - yaml[comments-indentation]  # Proper comment indentation
  - yaml[empty-values] # No empty values
  - yaml[octal-values] # No octal values
  - yaml[trailing-spaces]  # No trailing spaces

# Exclude paths
exclude_paths:
  - .cache/
  - .git/
  - .tox/
  - .venv/
  - venv/
  - __pycache__/
  - "*.egg-info/"
  - tests/molecule/default/.cache/
  - tests/molecule/default/.molecule/
  - tests/molecule/default/molecule.yml
  - tests/molecule/default/requirements.yml

# Custom rules configuration
rules:
  # Allow longer lines for complex Jinja2 expressions
  line-length:
    max: 120
    
  # Allow complex variable names
  var-naming:
    pattern: '^[a-zA-Z_][a-zA-Z0-9_]*$'
    
  # Allow complex task names
  task-name:
    pattern: '^[a-zA-Z][a-zA-Z0-9\s\-_]*$'

# Tags to include/exclude
tags:
  - always
  - never
  - opt-in
  - opt-out

# Verbosity level
verbosity: 1

# Parse errors as warnings
parseable: false

# Use colored output
colored: true

# Show source of issues
show-relpath: true
