# Grafana configuration for PAI Infrastructure
# Generated by Ansible - DO NOT EDIT MANUALLY
# Template: grafana.ini.j2

##################### Grafana Configuration File #####################

[default]
instance_name = pai-grafana

[paths]
data = {{ grafana_data_dir }}
temp_data_lifetime = 24h
logs = /var/log/grafana
plugins = {{ grafana_data_dir }}/plugins
provisioning = {{ grafana_config_dir }}/provisioning

[server]
protocol = http
http_addr = 0.0.0.0
http_port = {{ grafana_port }}
domain = {{ ansible_host }}
root_url = http://{{ ansible_host }}:{{ grafana_port }}/
serve_from_sub_path = false
static_root_path = public
enable_gzip = true

[database]
type = sqlite3
host = 127.0.0.1:3306
name = grafana
user = root
password =
url =
ssl_mode = disable
ca_cert_path =
client_key_path =
client_cert_path =
server_cert_name =
path = {{ grafana_data_dir }}/grafana.db

[session]
provider = file
provider_config = sessions
cookie_name = grafana_sess
cookie_secure = false
session_life_time = 86400
gc_interval_time = 86400

[dataproxy]
logging = false
timeout = 30
send_user_header = false

[analytics]
reporting_enabled = false
check_for_updates = true
google_analytics_ua_id =
google_tag_manager_id =

[security]
disable_initial_admin_creation = false
admin_user = admin
admin_password = admin
secret_key = ***REMOVED***
login_remember_days = 7
cookie_username = grafana_user
cookie_remember_name = grafana_remember
disable_gravatar = false
data_source_proxy_whitelist =
disable_brute_force_login_protection = false
cookie_samesite = lax
allow_embedding = false
strict_transport_security = false
strict_transport_security_max_age_seconds = 86400
strict_transport_security_preload = false
strict_transport_security_subdomains = false
x_content_type_options = true
x_xss_protection = true

[snapshots]
external_enabled = false
external_snapshot_url = https://snapshots-origin.raintank.io
external_snapshot_name = Publish to snapshot.raintank.io
remove_expired = true
ttl_days = 90

[dashboards]
versions_to_keep = 20
min_refresh_interval = 5s
default_home_dashboard_path =

[users]
allow_sign_up = false
allow_org_create = false
auto_assign_org = true
auto_assign_org_id = 1
auto_assign_org_role = Viewer
login_hint = email or username
password_hint = password
default_theme = dark
external_manage_link_url =
external_manage_link_name =
external_manage_info =

[auth]
login_cookie_name = grafana_session
login_maximum_inactive_lifetime_days = 7
login_maximum_lifetime_days = 30
token_rotation_interval_minutes = 10
disable_login_form = false
disable_signout_menu = false
signout_redirect_url =
oauth_auto_login = false
api_key_max_seconds_to_live = -1

[auth.anonymous]
enabled = false
org_name = Main Org.
org_role = Viewer
hide_version = false

[auth.basic]
enabled = true

[auth.proxy]
enabled = false
header_name = X-WEBAUTH-USER
header_property = username
auto_sign_up = true
ldap_sync_ttl = 60
whitelist = 192.168.1.0/24
headers = Email:X-User-Email, Name:X-User-Name
enable_login_token = false

[log]
mode = console file
level = info
filters =

[log.console]
level =
format = console

[log.file]
level =
format = text
log_rotate = true
max_lines = 1000000
max_size_shift = 28
daily_rotate = true
max_days = 7

[log.syslog]
level =
format = text
network =
address =
facility =
tag =

[quota]
enabled = false
org_user = 10
org_dashboard = 100
org_data_source = 10
org_api_key = 10
user_org = 10
global_user = -1
global_org = -1
global_dashboard = -1
global_api_key = -1
global_session = -1

[alerting]
enabled = true
execute_alerts = true
error_or_timeout = alerting
nodata_or_nullvalues = no_data
concurrent_render_limit = 5
evaluation_timeout_seconds = 30
notification_timeout_seconds = 30
max_attempts = 3
min_interval_seconds = 1

[metrics]
enabled = true
interval_seconds = 10
disable_total_stats = false

[metrics.graphite]
address =
prefix = prod.grafana.%(instance_name)s.

[tracing.jaeger]
address = localhost:6831
always_included_tag = tag1:value1
sampler_type = const
sampler_param = 1

[grafana_net]
url = https://grafana.net

[external_image_storage]
provider =

[external_image_storage.s3]
endpoint =
path_style_access =
bucket =
region =
path =
access_key =
secret_key =

[external_image_storage.webdav]
url =
username =
password =
public_url =

[external_image_storage.gcs]
key_file =
bucket =
path =

[external_image_storage.azure_blob]
account_name =
account_key =
container_name =

[external_image_storage.local]
path =

[rendering]
server_url =
callback_url =
concurrent_render_request_limit = 30

[panels]
enable_alpha = false
disable_sanitize_html = false

[plugins]
enable_alpha = false
app_tls_skip_verify_insecure = false
allow_loading_unsigned_plugins =

[enterprise]
license_path =

[feature_toggles]
enable = 

[date_formats]
full_date = YYYY-MM-DD HH:mm:ss
interval_second = HH:mm:ss
interval_minute = HH:mm
interval_hour = MM-DD HH:mm
interval_day = MM-DD
interval_month = YYYY-MM
interval_year = YYYY

[expressions]
enabled = true
