---
# Red Hat Ansible Inventory - Production Environment
# Configuration as Code for JByrd Home Lab Infrastructure

all:
  children:
    homelab:
      children:
        media_servers:
          hosts:
            plex-server:
              ansible_host: 192.168.1.17
              ansible_user: jbyrd
              server_role: media_streaming
              services:
                - plex
                - jimmy_youtube_downloads
              storage_paths:
                - /home/jbyrd/jimmy-youtube
                - /media/plex
        
        web_servers:
          hosts:
            hp-server:
              ansible_host: 192.168.1.34
              ansible_user: jbyrd
              server_role: web_interface
              services:
                - jimmy_youtube_web
                - flask_apps
              monitoring: enabled
        
        workstations:
          hosts:
            work-laptop:
              ansible_host: 192.168.1.134
              ansible_user: jbyrd
              server_role: development
              services:
                - development_tools
                - hatter_pai

  vars:
    # Global variables for all hosts
    ansible_python_interpreter: /usr/bin/python3
    ansible_ssh_private_key_file: ~/.ssh/id_ed25519
    timezone: America/New_York
    
    # Red Hat PAI Configuration
    pai_context: redhat
    pai_compliance_enabled: true
    pai_secrets_path: ~/.config/pai/secrets/
    
    # Common packages across all systems
    common_packages:
      - python3
      - python3-pip
      - git
      - curl
      - wget
      - htop
      - vim
      - tmux
    
    # Security configuration
    security:
      firewall_enabled: true
      fail2ban_enabled: true
      ssh_hardening: true
      
    # Monitoring configuration  
    monitoring:
      enabled: true
      health_check_interval: 300
      log_rotation_days: 7

    # Monitoring configuration
    monitoring:
      children:
        prometheus_servers:
          hosts:
            hp-server:
              prometheus_role: server
              prometheus_port: 9090
              prometheus_retention: 15d
              
        grafana_servers:
          hosts:
            hp-server:
              grafana_role: server
              grafana_port: 3000
              grafana_admin_user: admin
              
        node_exporters:
          hosts:
            hp-server:
              node_exporter_port: 9100
            plex-server:
              node_exporter_port: 9100
            work-laptop:
              node_exporter_port: 9100

  vars:
    # Monitoring global variables
    monitoring_stack:
      enabled: true
      retention_days: 15
      scrape_interval: 15s
      evaluation_interval: 15s
      
    # Dashboard configuration
    grafana_dashboards:
      - name: hp-server-performance
        title: "HP Server - PAI Infrastructure Performance"
        file: hp-server-performance.json
        
      - name: pai-environment-overview
        title: "PAI Environment - Complete Infrastructure Overview"
        file: pai-environment-overview.json
        
    # Alerting configuration
    alerting:
      enabled: true
      smtp_server: ""  # Configure for email alerts
      webhook_url: ""  # Configure for Slack/Teams alerts
